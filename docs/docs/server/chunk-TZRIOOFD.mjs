import './polyfills.server.mjs';
import{$ as Mt,A as b,B as pe,C as U,D as ee,E as te,F as j,G as Ze,H as g,I as v,J as ae,K as We,L as x,M as Y,N as k,O as Ae,P as St,Q as z,R as Ct,S as me,T as ge,V as yt,a as dt,aa as Ke,b as ft,ba as ze,c as pt,d as Ee,da as kt,e as Ve,ea as qe,f as re,fa as Et,g as ne,ga as Vt,h as R,i as D,j as C,ja as bt,k as mt,l as se,m as G,n as gt,o as _t,p as de,pa as At,q as W,r as K,s as je,t as Ye,u as be,v as vt,w as M,x as fe,y as X,z as F}from"./chunk-RRHWFM7J.mjs";import{a as V,b as L,d as ht,h as ut}from"./chunk-VVCT4QZE.mjs";var Pt=(()=>{class r{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(t){return new(t||r)(b(pe),b(fe))}}static{this.\u0275dir=G({type:r})}}return r})(),yi=(()=>{class r extends Pt{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=be(r)))(n||r)}})()}static{this.\u0275dir=G({type:r,features:[ee]})}}return r})(),Pe=new R("");var Mi={provide:Pe,useExisting:Ve(()=>Re),multi:!0};function ki(){let r=Ke()?Ke().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Ei=new R(""),Re=(()=>{class r extends Pt{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ki())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(t){return new(t||r)(b(pe),b(fe),b(Ei,8))}}static{this.\u0275dir=G({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,n){t&1&&x("input",function(c){return n._handleInput(c.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(c){return n._compositionEnd(c.target.value)})},features:[z([Mi]),ee]})}}return r})();function q(r){return r==null||(typeof r=="string"||Array.isArray(r))&&r.length===0}function Rt(r){return r!=null&&typeof r.length=="number"}var Ge=new R(""),Gt=new R(""),Vi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,P=class{static min(i){return bi(i)}static max(i){return Ai(i)}static required(i){return Ni(i)}static requiredTrue(i){return Di(i)}static email(i){return Ii(i)}static minLength(i){return Ti(i)}static maxLength(i){return xi(i)}static pattern(i){return wi(i)}static nullValidator(i){return Ut(i)}static compose(i){return Yt(i)}static composeAsync(i){return Wt(i)}};function bi(r){return i=>{if(q(i.value)||q(r))return null;let e=parseFloat(i.value);return!isNaN(e)&&e<r?{min:{min:r,actual:i.value}}:null}}function Ai(r){return i=>{if(q(i.value)||q(r))return null;let e=parseFloat(i.value);return!isNaN(e)&&e>r?{max:{max:r,actual:i.value}}:null}}function Ni(r){return q(r.value)?{required:!0}:null}function Di(r){return r.value===!0?null:{required:!0}}function Ii(r){return q(r.value)||Vi.test(r.value)?null:{email:!0}}function Ti(r){return i=>q(i.value)||!Rt(i.value)?null:i.value.length<r?{minlength:{requiredLength:r,actualLength:i.value.length}}:null}function xi(r){return i=>Rt(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}function wi(r){if(!r)return Ut;let i,e;return typeof r=="string"?(e="",r.charAt(0)!=="^"&&(e+="^"),e+=r,r.charAt(r.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=r.toString(),i=r),t=>{if(q(t.value))return null;let n=t.value;return i.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}function Ut(r){return null}function Bt(r){return r!=null}function Ht(r){return yt(r)?dt(r):r}function $t(r){let i={};return r.forEach(e=>{i=e!=null?V(V({},i),e):i}),Object.keys(i).length===0?null:i}function Lt(r,i){return i.map(e=>e(r))}function Oi(r){return!r.validate}function jt(r){return r.map(i=>Oi(i)?i:e=>i.validate(e))}function Yt(r){if(!r)return null;let i=r.filter(Bt);return i.length==0?null:function(e){return $t(Lt(e,i))}}function Zt(r){return r!=null?Yt(jt(r)):null}function Wt(r){if(!r)return null;let i=r.filter(Bt);return i.length==0?null:function(e){let t=Lt(e,i).map(Ht);return pt(t).pipe(ft($t))}}function Kt(r){return r!=null?Wt(jt(r)):null}function Nt(r,i){return r===null?[i]:Array.isArray(r)?[...r,i]:[r,i]}function zt(r){return r._rawValidators}function qt(r){return r._rawAsyncValidators}function Qe(r){return r?Array.isArray(r)?r:[r]:[]}function Ie(r,i){return Array.isArray(r)?r.includes(i):r===i}function Dt(r,i){let e=Qe(i);return Qe(r).forEach(n=>{Ie(e,n)||e.push(n)}),e}function It(r,i){return Qe(i).filter(e=>!Ie(r,e))}var Te=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Zt(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},le=class extends Te{get formDirective(){return null}get path(){return null}},Se=class extends Te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xe=class{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Fi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Rr=L(V({},Fi),{"[class.ng-submitted]":"isSubmitted"}),Qt=(()=>{class r extends xe{constructor(e){super(e)}static{this.\u0275fac=function(t){return new(t||r)(b(Se,2))}}static{this.\u0275dir=G({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,n){t&2&&Ze("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[ee]})}}return r})(),Jt=(()=>{class r extends xe{constructor(e){super(e)}static{this.\u0275fac=function(t){return new(t||r)(b(le,10))}}static{this.\u0275dir=G({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,n){t&2&&Ze("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[ee]})}}return r})();var _e="VALID",Ne="INVALID",oe="PENDING",ve="DISABLED";function tt(r){return(Ue(r)?r.validators:r)||null}function Pi(r){return Array.isArray(r)?Zt(r):r||null}function it(r,i){return(Ue(i)?i.asyncValidators:r)||null}function Ri(r){return Array.isArray(r)?Kt(r):r||null}function Ue(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function Xt(r,i,e){let t=r.controls;if(!(i?Object.keys(t):t).length)throw new Ee(1e3,"");if(!t[e])throw new Ee(1001,"")}function ei(r,i,e){r._forEachChild((t,n)=>{if(e[n]===void 0)throw new Ee(1002,"")})}var ce=class{constructor(i,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===_e}get invalid(){return this.status===Ne}get pending(){return this.status==oe}get disabled(){return this.status===ve}get enabled(){return this.status!==ve}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(Dt(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Dt(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(It(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(It(i,this._rawAsyncValidators))}hasValidator(i){return Ie(this._rawValidators,i)}hasAsyncValidator(i){return Ie(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=oe,i.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=ve,this.errors=null,this._forEachChild(t=>{t.disable(L(V({},i),{onlySelf:!0}))}),this._updateValue(),i.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(V({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=_e,this._forEachChild(t=>{t.enable(L(V({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(L(V({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_e||this.status===oe)&&this._runAsyncValidator(i.emitEvent)),i.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ve:_e}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=oe,this._hasOwnPendingAsyncValidator=!0;let e=Ht(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((t,n)=>t&&t._find(n),this)}getError(i,e){let t=e?this.get(e):this;return t&&t.errors?t.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?ve:this.errors?Ne:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oe)?oe:this._anyControlsHaveStatus(Ne)?Ne:_e}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Ue(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=Pi(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=Ri(this._rawAsyncValidators)}},we=class extends ce{constructor(i,e,t){super(tt(e),it(t,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,t={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){ei(this,!0,i),Object.keys(i).forEach(t=>{Xt(this,!0,t),this.controls[t].setValue(i[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(t=>{let n=this.controls[t];n&&n.patchValue(i[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((t,n)=>{t.reset(i?i[n]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,t)=>(i[t]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,t)=>t._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let t=this.controls[e];t&&i(t,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,t]of Object.entries(this.controls))if(this.contains(e)&&i(t))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(i,e){let t=i;return this._forEachChild((n,s)=>{t=e(t,n,s)}),t}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var Je=class extends we{};var rt=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Be}),Be="always";function Gi(r,i){return[...i.path,r]}function Tt(r,i,e=Be){nt(r,i),i.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(r.disabled),Bi(r,i),$i(r,i),Hi(r,i),Ui(r,i)}function xt(r,i,e=!0){let t=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(t),i.valueAccessor.registerOnTouched(t)),Fe(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Oe(r,i){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function Ui(r,i){if(i.valueAccessor.setDisabledState){let e=t=>{i.valueAccessor.setDisabledState(t)};r.registerOnDisabledChange(e),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function nt(r,i){let e=zt(r);i.validator!==null?r.setValidators(Nt(e,i.validator)):typeof e=="function"&&r.setValidators([e]);let t=qt(r);i.asyncValidator!==null?r.setAsyncValidators(Nt(t,i.asyncValidator)):typeof t=="function"&&r.setAsyncValidators([t]);let n=()=>r.updateValueAndValidity();Oe(i._rawValidators,n),Oe(i._rawAsyncValidators,n)}function Fe(r,i){let e=!1;if(r!==null){if(i.validator!==null){let n=zt(r);if(Array.isArray(n)&&n.length>0){let s=n.filter(c=>c!==i.validator);s.length!==n.length&&(e=!0,r.setValidators(s))}}if(i.asyncValidator!==null){let n=qt(r);if(Array.isArray(n)&&n.length>0){let s=n.filter(c=>c!==i.asyncValidator);s.length!==n.length&&(e=!0,r.setAsyncValidators(s))}}}let t=()=>{};return Oe(i._rawValidators,t),Oe(i._rawAsyncValidators,t),e}function Bi(r,i){i.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&ti(r,i)})}function Hi(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&ti(r,i),r.updateOn!=="submit"&&r.markAsTouched()})}function ti(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function $i(r,i){let e=(t,n)=>{i.valueAccessor.writeValue(t),n&&i.viewToModelUpdate(t)};r.registerOnChange(e),i._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function Li(r,i){r==null,nt(r,i)}function ji(r,i){return Fe(r,i)}function Yi(r,i){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function Zi(r){return Object.getPrototypeOf(r.constructor)===yi}function Wi(r,i){r._syncPendingControls(),i.forEach(e=>{let t=e.control;t.updateOn==="submit"&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Ki(r,i){if(!i)return null;Array.isArray(i);let e,t,n;return i.forEach(s=>{s.constructor===Re?e=s:Zi(s)?t=s:n=s}),n||t||e||null}function zi(r,i){let e=r.indexOf(i);e>-1&&r.splice(e,1)}function wt(r,i){let e=r.indexOf(i);e>-1&&r.splice(e,1)}function Ot(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var De=class extends ce{constructor(i=null,e,t){super(tt(e),it(t,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ue(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Ot(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){wt(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){wt(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){Ot(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var qi=r=>r instanceof De;var ii=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275dir=G({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return r})();var ri=new R("");var Qi={provide:le,useExisting:Ve(()=>st)},st=(()=>{class r extends le{constructor(e,t,n){super(),this.callSetDisabledState=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return Tt(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){xt(e.control||null,e,!1),zi(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,Wi(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let t=e.control,n=this.form.get(e.path);t!==n&&(xt(t||null,e),qi(n)&&(Tt(n,e,this.callSetDisabledState),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);Li(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&ji(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nt(this.form,this),this._oldForm&&Fe(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(t){return new(t||r)(b(Ge,10),b(Gt,10),b(rt,8))}}static{this.\u0275dir=G({type:r,selectors:[["","formGroup",""]],hostBindings:function(t,n){t&1&&x("submit",function(c){return n.onSubmit(c)})("reset",function(){return n.onReset()})},inputs:{form:[C.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[z([Qi]),ee,de]})}}return r})();var Ji={provide:Se,useExisting:Ve(()=>at)},at=(()=>{class r extends Se{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,t,n,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Ki(this,s)}ngOnChanges(e){this._added||this._setUpControl(),Yi(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Gi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(t){return new(t||r)(b(le,13),b(Ge,10),b(Gt,10),b(Pe,10),b(ri,8))}}static{this.\u0275dir=G({type:r,selectors:[["","formControlName",""]],inputs:{name:[C.None,"formControlName","name"],isDisabled:[C.None,"disabled","isDisabled"],model:[C.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[z([Ji]),ee,de]})}}return r})();var ni=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=se({type:r})}static{this.\u0275inj=ne({})}}return r})(),Xe=class extends ce{constructor(i,e,t){super(tt(e),it(t,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,t={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(i,e={}){let t=this._adjustIndex(i);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,t={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){ei(this,!1,i),i.forEach((t,n)=>{Xt(this,!1,n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(i.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((t,n)=>{t.reset(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((e,t)=>t._syncPendingControls()?!0:e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((e,t)=>{i(e,t)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(let i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}};function Ft(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var Xi=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new r;return e.useNonNullable=!0,e}group(e,t=null){let n=this._reduceControls(e),s={};return Ft(t)?s=t:t!==null&&(s.validators=t.validator,s.asyncValidators=t.asyncValidator),new we(n,s)}record(e,t=null){let n=this._reduceControls(e);return new Je(n,t)}control(e,t,n){let s={};return this.useNonNullable?(Ft(t)?s=t:(s.validators=t,s.asyncValidators=n),new De(e,L(V({},s),{nonNullable:!0}))):new De(e,t,n)}array(e,t,n){let s=e.map(c=>this._createControl(c));return new Xe(s,t,n)}_reduceControls(e){let t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){if(e instanceof De)return e;if(e instanceof ce)return e;if(Array.isArray(e)){let t=e[0],n=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(t,n,s)}else return this.control(e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=re({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),si=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=re({token:r,factory:()=>D(Xi).nonNullable,providedIn:"root"})}}return r})();var ot=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:rt,useValue:e.callSetDisabledState??Be}]}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=se({type:r})}static{this.\u0275inj=ne({imports:[ni]})}}return r})(),lt=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:ri,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:rt,useValue:e.callSetDisabledState??Be}]}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=se({type:r})}static{this.\u0275inj=ne({imports:[ni]})}}return r})();var a=function(r){return r.SEPARATOR="separator",r.PERCENT="percent",r.IP="IP",r.CPF_CNPJ="CPF_CNPJ",r.MONTH="M",r.MONTHS="M0",r.MINUTE="m",r.HOUR="h",r.HOURS="H",r.MINUTES="m0",r.HOURS_HOUR="Hh",r.SECONDS="s0",r.HOURS_MINUTES_SECONDS="Hh:m0:s0",r.EMAIL_MASK="A*@A*.A*",r.HOURS_MINUTES="Hh:m0",r.MINUTES_SECONDS="m0:s0",r.DAYS_MONTHS_YEARS="d0/M0/0000",r.DAYS_MONTHS="d0/M0",r.DAYS="d0",r.DAY="d",r.SECOND="s",r.LETTER_S="S",r.DOT=".",r.COMMA=",",r.CURLY_BRACKETS_LEFT="{",r.CURLY_BRACKETS_RIGHT="}",r.MINUS="-",r.OR="||",r.HASH="#",r.EMPTY_STRING="",r.SYMBOL_STAR="*",r.SYMBOL_QUESTION="?",r.SLASH="/",r.WHITE_SPACE=" ",r.NUMBER_ZERO="0",r.NUMBER_NINE="9",r.BACKSPACE="Backspace",r.DELETE="Delete",r.ARROW_LEFT="ArrowLeft",r.ARROW_UP="ArrowUp",r.DOUBLE_ZERO="00",r}(a||{}),Ce=new R("ngx-mask config"),ai=new R("new ngx-mask config"),oi=new R("initial ngx-mask config"),tr={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:r=>r,outputTransformFn:r=>r,maskFilled:new X,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},ir=[a.HOURS_MINUTES_SECONDS,a.HOURS_MINUTES,a.MINUTES_SECONDS],rr=[a.PERCENT,a.HOURS_HOUR,a.SECONDS,a.MINUTES,a.SEPARATOR,a.DAYS_MONTHS_YEARS,a.DAYS_MONTHS,a.DAYS,a.MONTHS],nr=(()=>{class r{_config=D(Ce);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression="";deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(e,t,n=0,s=!1,c=!1,d=()=>{}){if(!t||typeof e!="string")return a.EMPTY_STRING;let l=0,h="",u=!1,m=!1,S=1,A=!1,o=e,p=n;o.slice(0,this.prefix.length)===this.prefix&&(o=o.slice(this.prefix.length,o.length)),this.suffix&&o.length>0&&(o=this.checkAndRemoveSuffix(o)),o==="("&&this.prefix&&(o="");let I=o.toString().split(a.EMPTY_STRING);if(this.allowNegativeNumbers&&o.slice(l,l+1)===a.MINUS&&(h+=o.slice(l,l+1)),t===a.IP){let _=o.split(a.DOT);this.ipError=this._validIP(_),t="099.099.099.099"}let w=[];for(let _=0;_<o.length;_++)o[_]?.match("\\d")&&w.push(o[_]??a.EMPTY_STRING);if(t===a.CPF_CNPJ&&(this.cpfCnpjError=w.length!==11&&w.length!==14,w.length>11?t="00.000.000/0000-00":t="000.000.000-00"),t.startsWith(a.PERCENT)){if(o.match("[a-z]|[A-Z]")||o.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!c){o=this._stripToDecimal(o);let O=this.getPrecision(t);o=this.checkInputPrecision(o,O,this.decimalMarker)}let _=typeof this.decimalMarker=="string"?this.decimalMarker:a.DOT;if(o.indexOf(_)>0&&!this.percentage(o.substring(0,o.indexOf(_)))){let O=o.substring(0,o.indexOf(_)-1);this.allowNegativeNumbers&&o.slice(l,l+1)===a.MINUS&&!c&&(O=o.substring(0,o.indexOf(_))),o=`${O}${o.substring(o.indexOf(_),o.length)}`}let f="";this.allowNegativeNumbers&&o.slice(l,l+1)===a.MINUS?f=`${a.MINUS}${o.slice(l+1,l+o.length)}`:f=o,this.percentage(f)?h=this._splitPercentZero(o):h=this._splitPercentZero(o.substring(0,o.length-1))}else if(t.startsWith(a.SEPARATOR)){(o.match("[w\u0430-\u044F\u0410-\u042F]")||o.match("[\u0401\u0451\u0410-\u044F]")||o.match("[a-z]|[A-Z]")||o.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||o.match("[^A-Za-z0-9,]"))&&(o=this._stripToDecimal(o));let _=this.getPrecision(t),f=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?f=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:f=this.decimalMarker.find(y=>y!==this.thousandSeparator)),c){let{decimalMarkerIndex:y,nonZeroIndex:E}=this._findFirstNonZeroAndDecimalIndex(o,f),$=o[0]===a.MINUS,Me=o[0]===a.NUMBER_ZERO,ke=o[0]===f,ue=o[1]===f;(ke&&!E||$&&ue&&!E||Me&&!y&&!E)&&(o=a.NUMBER_ZERO),y&&E&&$&&p===1&&(y<E||y>E)&&(o=a.MINUS+o.slice(E)),!y&&E&&o.length>E&&(o=$?a.MINUS+o.slice(E):o.slice(E)),y&&E&&p===0&&(y<E&&(o=o.slice(y-1)),y>E&&(o=o.slice(E)))}_===0?o=this.allowNegativeNumbers?o.length>2&&o[0]===a.MINUS&&o[1]===a.NUMBER_ZERO&&o[2]!==this.thousandSeparator&&o[2]!==a.COMMA&&o[2]!==a.DOT?"-"+o.slice(2,o.length):o[0]===a.NUMBER_ZERO&&o.length>1&&o[1]!==this.thousandSeparator&&o[1]!==a.COMMA&&o[1]!==a.DOT?o.slice(1,o.length):o:o.length>1&&o[0]===a.NUMBER_ZERO&&o[1]!==this.thousandSeparator&&o[1]!==a.COMMA&&o[1]!==a.DOT?o.slice(1,o.length):o:(o[0]===f&&o.length>1&&!c&&(o=a.NUMBER_ZERO+o.slice(0,o.length+1),this.plusOnePosition=!0),o[0]===a.NUMBER_ZERO&&o[1]!==f&&o[1]!==this.thousandSeparator&&!c&&(o=o.length>1?o.slice(0,1)+f+o.slice(1,o.length+1):o,this.plusOnePosition=!0),this.allowNegativeNumbers&&!c&&o[0]===a.MINUS&&(o[1]===f||o[1]===a.NUMBER_ZERO)&&(o=o[1]===f&&o.length>2?o.slice(0,1)+a.NUMBER_ZERO+o.slice(1,o.length):o[1]===a.NUMBER_ZERO&&o.length>2&&o[2]!==f?o.slice(0,2)+f+o.slice(2,o.length):o,this.plusOnePosition=!0));let O=this._charToRegExpExpression(this.thousandSeparator),N='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(O,"");if(Array.isArray(this.decimalMarker))for(let y of this.decimalMarker)N=N.replace(this._charToRegExpExpression(y),a.EMPTY_STRING);else N=N.replace(this._charToRegExpExpression(this.decimalMarker),"");let T=new RegExp("["+N+"]");o.match(T)&&(o=o.substring(0,o.length-1)),o=this.checkInputPrecision(o,_,this.decimalMarker);let H=o.replace(new RegExp(O,"g"),"");h=this._formatWithSeparators(H,this.thousandSeparator,this.decimalMarker,_);let Le=h.indexOf(a.COMMA)-o.indexOf(a.COMMA),B=h.length-o.length,ye=c&&h.length<e.length&&this.separatorLimit;if((h[p-1]===this.thousandSeparator||h[p-this.prefix.length])&&this.prefix&&c)p=p-1;else if(B>0&&h[p]!==this.thousandSeparator||ye){m=!0;let y=0;do this._shift.add(p+y),y++;while(y<B)}else h[p-1]===this.thousandSeparator||B===-4||B===-3||h[p]===this.thousandSeparator?(this._shift.clear(),this._shift.add(p-1)):Le!==0&&p>0&&!(h.indexOf(a.COMMA)>=p&&p>3)||!(h.indexOf(a.DOT)>=p&&p>3)&&B<=0?(this._shift.clear(),m=!0,S=B,p+=B,this._shift.add(p)):this._shift.clear()}else for(let _=0,f=I[0];_<I.length&&l!==t.length;_++,f=I[_]??a.EMPTY_STRING){let O=a.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(f,t[l]??a.EMPTY_STRING)&&t[l+1]===a.SYMBOL_QUESTION)h+=f,l+=2;else if(t[l+1]===a.SYMBOL_STAR&&u&&this._checkSymbolMask(f,t[l+2]??a.EMPTY_STRING))h+=f,l+=3,u=!1;else if(this._checkSymbolMask(f,t[l]??a.EMPTY_STRING)&&t[l+1]===a.SYMBOL_STAR&&!O)h+=f,u=!0;else if(t[l+1]===a.SYMBOL_QUESTION&&this._checkSymbolMask(f,t[l+2]??a.EMPTY_STRING))h+=f,l+=3;else if(this._checkSymbolMask(f,t[l]??a.EMPTY_STRING)){if(t[l]===a.HOURS&&(this.apm?Number(f)>9:Number(f)>2)){p=this.leadZeroDateTime?p:p+1,l+=1,this._shiftStep(l),_--,this.leadZeroDateTime&&(h+="0");continue}if(t[l]===a.HOUR&&(this.apm?h.length===1&&Number(h)>1||h==="1"&&Number(f)>2||o.slice(l-1,l).length===1&&Number(o.slice(l-1,l))>2||o.slice(l-1,l)==="1"&&Number(f)>2:h==="2"&&Number(f)>3||(h.slice(l-2,l)==="2"||h.slice(l-3,l)==="2"||h.slice(l-4,l)==="2"||h.slice(l-1,l)==="2")&&Number(f)>3&&l>10)){p=p+1,l+=1,_--;continue}if((t[l]===a.MINUTE||t[l]===a.SECOND)&&Number(f)>5){p=this.leadZeroDateTime?p:p+1,l+=1,this._shiftStep(l),_--,this.leadZeroDateTime&&(h+="0");continue}let N=31,T=o[l],H=o[l+1],Le=o[l+2],B=o[l-1],ye=o[l-2],y=o.slice(l-3,l-1),E=o.slice(l-1,l+1),$=o.slice(l,l+2),Me=o.slice(l-2,l);if(t[l]===a.DAY){let ke=t.slice(0,2)===a.MONTHS,ue=t.slice(0,2)===a.MONTHS&&this.specialCharacters.includes(ye);if(Number(f)>3&&this.leadZeroDateTime||!ke&&(Number($)>N||Number(E)>N||this.specialCharacters.includes(H))||(ue?Number(E)>N||!this.specialCharacters.includes(T)&&this.specialCharacters.includes(Le)||this.specialCharacters.includes(T):Number($)>N||this.specialCharacters.includes(H)&&!c)){p=this.leadZeroDateTime?p:p+1,l+=1,this._shiftStep(l),_--,this.leadZeroDateTime&&(h+="0");continue}}if(t[l]===a.MONTH){let ue=l===0&&(Number(f)>2||Number($)>12||this.specialCharacters.includes(H)&&!c),mi=t.slice(l+2,l+3),gi=y.includes(mi)&&t.includes("d0")&&(this.specialCharacters.includes(ye)&&Number(E)>12&&!this.specialCharacters.includes(T)||this.specialCharacters.includes(T)),_i=Number(y)<=N&&!this.specialCharacters.includes(y)&&this.specialCharacters.includes(B)&&(Number($)>12||this.specialCharacters.includes(H)),vi=Number($)>12&&l===5||this.specialCharacters.includes(H)&&l===5,Si=Number(y)>N&&!this.specialCharacters.includes(y)&&!this.specialCharacters.includes(Me)&&Number(Me)>12&&t.includes("d0"),Ci=Number(y)<=N&&!this.specialCharacters.includes(y)&&!this.specialCharacters.includes(B)&&Number(E)>12;if(Number(f)>1&&this.leadZeroDateTime||ue||gi||Ci||Si||_i||vi&&!this.leadZeroDateTime){p=this.leadZeroDateTime?p:p+1,l+=1,this._shiftStep(l),_--,this.leadZeroDateTime&&(h+="0");continue}}h+=f,l++}else this.specialCharacters.includes(f)&&t[l]===f?(h+=f,l++):this.specialCharacters.indexOf(t[l]??a.EMPTY_STRING)!==-1?(h+=t[l],l++,this._shiftStep(l),_--):t[l]===a.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(l):this.patterns[t[l]??a.EMPTY_STRING]&&this.patterns[t[l]??a.EMPTY_STRING]?.optional?(I[l]&&t!=="099.099.099.099"&&t!=="000.000.000-00"&&t!=="00.000.000/0000-00"&&!t.match(/^9+\.0+$/)&&!this.patterns[t[l]??a.EMPTY_STRING]?.optional&&(h+=I[l]),t.includes(a.NUMBER_NINE+a.SYMBOL_STAR)&&t.includes(a.NUMBER_ZERO+a.SYMBOL_STAR)&&l++,l++,_--):this.maskExpression[l+1]===a.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[l+2]??a.EMPTY_STRING)&&this._findSpecialChar(f)===this.maskExpression[l+2]&&u||this.maskExpression[l+1]===a.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[l+2]??a.EMPTY_STRING)&&this._findSpecialChar(f)===this.maskExpression[l+2]&&u?(l+=3,h+=f):this.showMaskTyped&&this.specialCharacters.indexOf(f)<0&&f!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(A=!0)}h[p-1]&&h.length+1===t.length&&this.specialCharacters.indexOf(t[t.length-1]??a.EMPTY_STRING)!==-1&&(h+=t[t.length-1]);let Z=p+1;for(;this._shift.has(Z);)S++,Z++;let Q=s&&!t.startsWith(a.SEPARATOR)?l:this._shift.has(p)?S:0;A&&Q--,d(Q,m),S<0&&this._shift.clear();let J=!1;c&&(J=I.every(_=>this.specialCharacters.includes(_)));let ie=`${this.prefix}${J?a.EMPTY_STRING:h}${this.showMaskTyped?"":this.suffix}`;h.length===0&&(ie=this.instantPrefix?`${this.prefix}${h}`:`${h}`);let he=o.length===1&&this.specialCharacters.includes(t[0])&&o!==t[0];if(!this._checkSymbolMask(o,t[1])&&he)return"";if(h.includes(a.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(c&&h===a.MINUS)return"";ie=`${a.MINUS}${this.prefix}${h.split(a.MINUS).join(a.EMPTY_STRING)}${this.suffix}`}return ie}_findDropSpecialChar(e){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(t=>t===e):this._findSpecialChar(e)}_findSpecialChar(e){return this.specialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[t]?.pattern&&this.patterns[t]?.pattern.test(e))??!1}_formatWithSeparators=(e,t,n,s)=>{let c=[],d="";if(Array.isArray(n)){let S=new RegExp(n.map(A=>"[\\^$.|?*+()".indexOf(A)>=0?`\\${A}`:A).join("|"));c=e.split(S),d=e.match(S)?.[0]??a.EMPTY_STRING}else c=e.split(n),d=n;let l=c.length>1?`${d}${c[1]}`:a.EMPTY_STRING,h=c[0]??a.EMPTY_STRING,u=this.separatorLimit.replace(/\s/g,a.EMPTY_STRING);u&&+u&&(h[0]===a.MINUS?h=`-${h.slice(1,h.length).slice(0,u.length)}`:h=h.slice(0,u.length));let m=/(\d+)(\d{3})/;for(;t&&m.test(h);)h=h.replace(m,"$1"+t+"$2");return typeof s>"u"?h+l:s===0?h:h+l.substring(0,s+1)};percentage=e=>{let t=e.replace(",","."),n=Number(this.allowNegativeNumbers&&e.includes(a.MINUS)?t.slice(1,e.length):t);return!isNaN(n)&&n>=0&&n<=100};getPrecision=e=>{let t=e.split(a.DOT);return t.length>1?Number(t[t.length-1]):1/0};checkAndRemoveSuffix=e=>{for(let t=this.suffix?.length-1;t>=0;t--){let n=this.suffix.substring(t,this.suffix?.length);if(e.includes(n)&&t!==this.suffix?.length-1&&(t-1<0||!e.includes(this.suffix.substring(t-1,this.suffix?.length))))return e.replace(n,a.EMPTY_STRING)}return e};checkInputPrecision=(e,t,n)=>{let s=e,c=n;if(t<1/0){if(Array.isArray(c)){let u=c.find(m=>m!==this.thousandSeparator);c=u||c[0]}let d=new RegExp(this._charToRegExpExpression(c)+`\\d{${t}}.*$`),l=s.match(d),h=(l&&l[0]?.length)??0;if(h-1>t){let u=h-1-t;s=s.substring(0,s.length-u)}t===0&&this._compareOrIncludes(s[s.length-1],c,this.thousandSeparator)&&(s=s.substring(0,s.length-1))}return s};_stripToDecimal(e){return e.split(a.EMPTY_STRING).filter((t,n)=>{let s=typeof this.decimalMarker=="string"?t===this.decimalMarker:this.decimalMarker.includes(t);return t.match("^-?\\d")||t===this.thousandSeparator||s||t===a.MINUS&&n===0&&this.allowNegativeNumbers}).join(a.EMPTY_STRING)}_charToRegExpExpression(e){return e&&(e===" "?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e){this._shift.add(e+this.prefix.length||0)}_compareOrIncludes(e,t,n){return Array.isArray(t)?t.filter(s=>s!==n).includes(e):e===t}_validIP(e){return!(e.length===4&&!e.some((t,n)=>e.length!==n+1?t===a.EMPTY_STRING||Number(t)>255:t===a.EMPTY_STRING||Number(t.substring(0,3))>255))}_splitPercentZero(e){if(e===a.MINUS&&this.allowNegativeNumbers)return e;let t=typeof this.decimalMarker=="string"?e.indexOf(this.decimalMarker):e.indexOf(a.DOT),n=this.allowNegativeNumbers&&e.includes(a.MINUS)?"-":"";if(t===-1){let s=parseInt(n?e.slice(1,e.length):e,10);return isNaN(s)?a.EMPTY_STRING:`${n}${s}`}else{let s=parseInt(e.replace("-","").substring(0,t),10),c=e.substring(t+1),d=isNaN(s)?"":s.toString(),l=typeof this.decimalMarker=="string"?this.decimalMarker:a.DOT;return d===a.EMPTY_STRING?a.EMPTY_STRING:`${n}${d}${l}${c}`}}_findFirstNonZeroAndDecimalIndex(e,t){let n=null,s=null;for(let c=0;c<e.length;c++){let d=e[c];if(d===t&&n===null&&(n=c),d&&d>="1"&&d<="9"&&s===null&&(s=c),n!==null&&s!==null)break}return{decimalMarkerIndex:n,nonZeroIndex:s}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=re({token:r,factory:r.\u0275fac})}return r})(),He=(()=>{class r extends nr{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];triggerOnMaskChange=!1;previousValue="";currentValue="";writingValue=!1;_emitValue=!1;_start;_end;onChange=e=>{};_elementRef=D(fe,{optional:!0});document=D(ze);_config=D(Ce);_renderer=D(pe,{optional:!0});applyMask(e,t,n=0,s=!1,c=!1,d=()=>{}){if(!t)return e!==this.actualValue?this.actualValue:e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():a.EMPTY_STRING,this.maskExpression===a.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||a.HASH)),this.maskExpression===a.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||a.HASH)),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let l=e&&typeof this.selStart=="number"?e[this.selStart]??a.EMPTY_STRING:a.EMPTY_STRING,h="",u=n;if((this.hiddenInput||e&&e.indexOf(a.SYMBOL_STAR)>=0)&&!this.writingValue){let o=e&&e.length===1?e.split(a.EMPTY_STRING):this.actualValue.split(a.EMPTY_STRING);c&&(o=o.slice(0,n).concat(o.slice(n+1))),this.showMaskTyped&&(e=this.removeMask(e),o=this.removeMask(o.join("")).split(a.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):e!==a.EMPTY_STRING&&o.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(e.length>o.length?o.splice(this.selStart,0,l):e.length<o.length&&(o.length-e.length===1?c?o.splice(this.selStart-1,1):o.splice(e.length-1,1):o.splice(this.selStart,this.selEnd-this.selStart))):o=[],this.showMaskTyped&&!this.hiddenInput&&(h=this.removeMask(e)),this.actualValue.length?o.length<e.length?h=this.shiftTypedSymbols(o.join(a.EMPTY_STRING)):o.length===e.length?h=o.join(a.EMPTY_STRING):h=e:h=e}if(s&&(this.hiddenInput||!this.hiddenInput)&&(h=e),c&&this.specialCharacters.indexOf(this.maskExpression[u]??a.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(h=this.currentValue),this.deletedSpecialCharacter&&u&&(this.specialCharacters.includes(this.actualValue.slice(u,u+1))?u=u+1:t.slice(u-1,u+1)!==a.MONTHS&&(u=u-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(h=this.removeMask(h)),this.maskChanged?h=e:h=h&&h.length?h:e,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!s&&!this.writingValue){let o=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(o),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let m=super.applyMask(h,t,u,s,c,d);if(this.actualValue=this.getActualValue(m),this.thousandSeparator===a.DOT&&this.decimalMarker===a.DOT&&(this.decimalMarker=a.COMMA),this.maskExpression.startsWith(a.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(o=>!this._compareOrIncludes(o,this.decimalMarker,this.thousandSeparator))),(m||m==="")&&(this.previousValue=this.currentValue,this.currentValue=m,this._emitValue=this.previousValue!==this.currentValue||this.maskChanged||this.writingValue||this.previousValue===this.currentValue&&s),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(m)):this.formControlResult(m)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(m,this.maskExpression)}${this.maskIsShown.slice(m.length)}`:m;let S=m.length,A=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(a.HOURS)){let o=this._numberSkipedSymbols(m);return`${m}${A.slice(S+o)}`}else if(this.maskExpression===a.IP||this.maskExpression===a.CPF_CNPJ)return`${m}${A}`;return`${m}${A.slice(S)}`}_numberSkipedSymbols(e){let t=/(^|\D)(\d\D)/g,n=t.exec(e),s=0;for(;n!=null;)s+=1,n=t.exec(e);return s}applyValueChanges(e,t,n,s=()=>{}){let c=this._elementRef?.nativeElement;c&&(c.value=this.applyMask(c.value,this.maskExpression,e,t,n,s),c!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(e,t){return e.split(a.EMPTY_STRING).map((n,s)=>this.patterns&&this.patterns[t[s]??a.EMPTY_STRING]&&this.patterns[t[s]??a.EMPTY_STRING]?.symbol?this.patterns[t[s]??a.EMPTY_STRING]?.symbol:n).join(a.EMPTY_STRING)}getActualValue(e){let t=e.split(a.EMPTY_STRING).filter((n,s)=>{let c=this.maskExpression[s]??a.EMPTY_STRING;return this._checkSymbolMask(n,c)||this.specialCharacters.includes(c)&&n===c});return t.join(a.EMPTY_STRING)===e?t.join(a.EMPTY_STRING):e}shiftTypedSymbols(e){let t="";return(e&&e.split(a.EMPTY_STRING).map((s,c)=>{if(this.specialCharacters.includes(e[c+1]??a.EMPTY_STRING)&&e[c+1]!==this.maskExpression[c+1])return t=s,e[c+1];if(t.length){let d=t;return t=a.EMPTY_STRING,d}return s})||[]).join(a.EMPTY_STRING)}numberToString(e){return!e&&e!==0||this.maskExpression.startsWith(a.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(a.SEPARATOR)&&this.separatorLimit.length>14&&String(e).length>14?String(e):Number(e).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${a.MINUS}/`,a.MINUS)}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(e){if(this.maskExpression===a.IP)return this._checkForIp(e);if(this.maskExpression===a.CPF_CNPJ)return this._checkForCpfCnpj(e)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let e=this._elementRef?.nativeElement;e&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(this.placeHolderCharacter,a.EMPTY_STRING).length&&(this.formElementProperty=["value",a.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([e,t]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,e,t))}checkDropSpecialCharAmount(e){return e.split(a.EMPTY_STRING).filter(n=>this._findDropSpecialChar(n)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if(e===a.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let t=[];for(let n=0;n<e.length;n++){let s=e[n]??a.EMPTY_STRING;s&&s.match("\\d")&&t.push(s)}return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:(t.length>9&&t.length<=12,"")}_checkForCpfCnpj(e){let t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,n=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(e===a.HASH)return t;let s=[];for(let c=0;c<e.length;c++){let d=e[c]??a.EMPTY_STRING;d&&d.match("\\d")&&s.push(d)}return s.length<=3?t.slice(s.length,t.length):s.length>3&&s.length<=6?t.slice(s.length+1,t.length):s.length>6&&s.length<=9?t.slice(s.length+2,t.length):s.length>9&&s.length<11?t.slice(s.length+3,t.length):s.length===11?"":s.length===12?e.length===17?n.slice(16,n.length):n.slice(15,n.length):s.length>12&&s.length<=14?n.slice(s.length+4,n.length):""}_getActiveElement(e=this.document){let t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}formControlResult(e){if(this.writingValue&&!e){this.onChange(this.outputTransformFn(null));return}if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))),this.writingValue=!1,this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===e?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))):this.onChange(this.outputTransformFn(this._toNumber(e)))}_toNumber(e){if(!this.isNumberValue||e===a.EMPTY_STRING||this.maskExpression.startsWith(a.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return e;if(String(e).length>14&&this.maskExpression.startsWith(a.SEPARATOR))return String(e);let t=Number(e);if(this.maskExpression.startsWith(a.SEPARATOR)&&Number.isNaN(t)){let n=String(e).replace(",",".");return Number(n)}return Number.isNaN(t)?e:t}_removeMask(e,t){return this.maskExpression.startsWith(a.PERCENT)&&e.includes(a.DOT)?e:e&&e.replace(this._regExpForRemove(t),a.EMPTY_STRING)}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,a.EMPTY_STRING):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,a.EMPTY_STRING):e}_retrieveSeparatorValue(e){let t=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(n=>this.dropSpecialCharacters.includes(n)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&e.includes(a.WHITE_SPACE)&&this.maskExpression.includes(a.SYMBOL_STAR)&&(t=t.filter(n=>n!==a.WHITE_SPACE)),this._removeMask(e,t)}_regExpForRemove(e){return new RegExp(e.map(t=>`\\${t}`).join("|"),"gi")}_replaceDecimalMarkerToDot(e){let t=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return e.replace(this._regExpForRemove(t),a.DOT)}_checkSymbols(e){let t=e;if(t===a.EMPTY_STRING)return t;this.maskExpression.startsWith(a.PERCENT)&&this.decimalMarker===a.COMMA&&(t=t.replace(a.COMMA,a.DOT));let n=this._retrieveSeparatorPrecision(this.maskExpression),s=this.specialCharacters.length===0?this._retrieveSeparatorValue(t):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(t));return this.isNumberValue&&n?t===this.decimalMarker?null:s.length>14?String(s):this._checkPrecision(this.maskExpression,s):s}_checkPatternForSpace(){for(let e in this.patterns)if(this.patterns[e]&&this.patterns[e]?.hasOwnProperty("pattern")){let t=this.patterns[e]?.pattern.toString(),n=this.patterns[e]?.pattern;if(t?.includes(a.WHITE_SPACE)&&n?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(e){let t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){let n=this.getPrecision(e),s=t;return e.indexOf("2")>0||this.leadZero&&Number(n)>0?(this.decimalMarker===a.COMMA&&this.leadZero&&(s=s.replace(",",".")),this.leadZero?Number(s).toFixed(Number(n)):Number(s).toFixed(2)):this.numberToString(s)}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split(a.EMPTY_STRING).reduce((t,n,s)=>{if(this._start=n===a.CURLY_BRACKETS_LEFT?s:this._start,n!==a.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(n)?t+n:t;this._end=s;let c=Number(e.slice(this._start+1,this._end)),d=new Array(c+1).join(e[this._start-1]);if(e.slice(0,this._start).length>1&&e.includes(a.LETTER_S)){let l=e.slice(0,this._start-1);return l.includes(a.CURLY_BRACKETS_LEFT)?t+d:l+t+d}else return t+d},"")||e}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=be(r)))(n||r)}})();static \u0275prov=re({token:r,factory:r.\u0275fac})}return r})();function sr(){let r=D(oi),i=D(ai);return i instanceof Function?V(V({},r),i()):V(V({},r),i)}function ct(r){return[{provide:ai,useValue:r},{provide:oi,useValue:tr},{provide:Ce,useFactory:sr},He]}function li(r){return _t(ct(r))}var ci=(()=>{class r{mask=M("");specialCharacters=M([]);patterns=M({});prefix=M("");suffix=M("");thousandSeparator=M(" ");decimalMarker=M(".");dropSpecialCharacters=M(null);hiddenInput=M(null);showMaskTyped=M(null);placeHolderCharacter=M(null);shownMaskExpression=M(null);clearIfNotMatch=M(null);validation=M(null);separatorLimit=M("");allowNegativeNumbers=M(null);leadZeroDateTime=M(null);leadZero=M(null);triggerOnMaskChange=M(null);apm=M(null);inputTransformFn=M(null);outputTransformFn=M(null);keepCharacterPositions=M(null);instantPrefix=M(null);maskFilled=vt();_maskValue=U("");_inputValue=U("");_position=U(null);_code=U("");_maskExpressionArray=U([]);_justPasted=U(!1);_isFocused=U(!1);_isComposing=U(!1);_maskService=D(He,{self:!0});document=D(ze);_config=D(Ce);onChange=e=>{};onTouch=()=>{};ngOnChanges(e){let{mask:t,specialCharacters:n,patterns:s,prefix:c,suffix:d,thousandSeparator:l,decimalMarker:h,dropSpecialCharacters:u,hiddenInput:m,showMaskTyped:S,placeHolderCharacter:A,shownMaskExpression:o,clearIfNotMatch:p,validation:I,separatorLimit:w,allowNegativeNumbers:Z,leadZeroDateTime:Q,leadZero:J,triggerOnMaskChange:ie,apm:he,inputTransformFn:_,outputTransformFn:f,keepCharacterPositions:O,instantPrefix:N}=e;if(t&&(t.currentValue!==t.previousValue&&!t.firstChange&&(this._maskService.maskChanged=!0),t.currentValue&&t.currentValue.split(a.OR).length>1?(this._maskExpressionArray.set(t.currentValue.split(a.OR).sort((T,H)=>T.length-H.length)),this._setMask()):(this._maskExpressionArray.set([]),this._maskValue.set(t.currentValue||a.EMPTY_STRING),this._maskService.maskExpression=this._maskValue())),n){if(!n.currentValue||!Array.isArray(n.currentValue))return;this._maskService.specialCharacters=n.currentValue||[]}if(Z&&(this._maskService.allowNegativeNumbers=Z.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(T=>T!==a.MINUS))),s&&s.currentValue&&(this._maskService.patterns=s.currentValue),he&&he.currentValue&&(this._maskService.apm=he.currentValue),N&&(this._maskService.instantPrefix=N.currentValue),c&&(this._maskService.prefix=c.currentValue),d&&(this._maskService.suffix=d.currentValue),l&&(this._maskService.thousandSeparator=l.currentValue,l.previousValue&&l.currentValue)){let T=this._maskService.decimalMarker;l.currentValue===this._maskService.decimalMarker&&(this._maskService.decimalMarker=l.currentValue===a.COMMA?a.DOT:a.COMMA),this._maskService.dropSpecialCharacters===!0&&(this._maskService.specialCharacters=this._config.specialCharacters),typeof T=="string"&&typeof this._maskService.decimalMarker=="string"&&(this._inputValue.set(this._inputValue().split(l.previousValue).join("").replace(T,this._maskService.decimalMarker)),this._maskService.actualValue=this._inputValue()),this._maskService.writingValue=!0}h&&(this._maskService.decimalMarker=h.currentValue),u&&(this._maskService.dropSpecialCharacters=u.currentValue),m&&(this._maskService.hiddenInput=m.currentValue,m.previousValue===!0&&m.currentValue===!1&&this._inputValue.set(this._maskService.actualValue)),S&&(this._maskService.showMaskTyped=S.currentValue,S.previousValue===!1&&S.currentValue===!0&&this._isFocused()&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),A&&(this._maskService.placeHolderCharacter=A.currentValue),o&&(this._maskService.shownMaskExpression=o.currentValue),p&&(this._maskService.clearIfNotMatch=p.currentValue),I&&(this._maskService.validation=I.currentValue),w&&(this._maskService.separatorLimit=w.currentValue),Q&&(this._maskService.leadZeroDateTime=Q.currentValue),J&&(this._maskService.leadZero=J.currentValue),ie&&(this._maskService.triggerOnMaskChange=ie.currentValue),_&&(this._maskService.inputTransformFn=_.currentValue),f&&(this._maskService.outputTransformFn=f.currentValue),O&&(this._maskService.keepCharacterPositions=O.currentValue),this._applyMask()}validate({value:e}){let t=typeof e=="number"?String(e):e,n=this._maskValue();if(!this._maskService.validation||!n)return null;if(this._maskService.ipError)return this._createValidationError(t);if(this._maskService.cpfCnpjError)return this._createValidationError(t);if(n.startsWith(a.SEPARATOR)||rr.includes(n)||this._maskService.clearIfNotMatch)return null;if(ir.includes(n))return this._validateTime(t);if(n===a.EMAIL_MASK)return!/^[^@]+@[^@]+\.[^@]+$/.test(t)&&t?this._createValidationError(t):null;if(t&&t.length>=1){let s=0;if(n.includes(a.CURLY_BRACKETS_LEFT)&&n.includes(a.CURLY_BRACKETS_RIGHT))return n.slice(n.indexOf(a.CURLY_BRACKETS_LEFT)+1,n.indexOf(a.CURLY_BRACKETS_RIGHT))===String(t.length)?null:this._createValidationError(t);if(n.startsWith(a.PERCENT))return null;for(let c in this._maskService.patterns)if(this._maskService.patterns[c]?.optional){if(n.indexOf(c)!==n.lastIndexOf(c)){let d=n.split(a.EMPTY_STRING).filter(l=>l===c).join(a.EMPTY_STRING);s+=d.length}else n.indexOf(c)!==-1&&s++;if(n.indexOf(c)!==-1&&t.length>=n.indexOf(c)||s===n.length)return null}if(n.indexOf(a.SYMBOL_STAR)>1&&t.length<n.indexOf(a.SYMBOL_STAR)||n.indexOf(a.SYMBOL_QUESTION)>1&&t.length<n.indexOf(a.SYMBOL_QUESTION))return this._createValidationError(t);if(n.indexOf(a.SYMBOL_STAR)===-1||n.indexOf(a.SYMBOL_QUESTION)===-1){let c=n.split("*"),d=this._maskService.dropSpecialCharacters?n.length-this._maskService.checkDropSpecialCharAmount(n)-s:this.prefix()?n.length+this.prefix().length-s:n.length-s;if(c.length===1&&t.length<d)return this._createValidationError(t);if(c.length>1){let l=c[c.length-1];if(l&&this._maskService.specialCharacters.includes(l[0])&&String(t).includes(l[0]??"")&&!this.dropSpecialCharacters()){let h=e.split(l[0]);return h[h.length-1].length===l.length-1?null:this._createValidationError(t)}else return(l&&!this._maskService.specialCharacters.includes(l[0])||!l||this._maskService.dropSpecialCharacters)&&t.length>=d-1?null:this._createValidationError(t)}}if(n.indexOf(a.SYMBOL_STAR)===1||n.indexOf(a.SYMBOL_QUESTION)===1)return null}return e&&this.maskFilled.emit(),null}onPaste(){this._justPasted.set(!0)}onFocus(){this._isFocused.set(!0)}onModelChange(e){(e===a.EMPTY_STRING||e===null||typeof e>"u")&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(a.EMPTY_STRING))}onInput(e){if(this._isComposing())return;let t=e.target,n=this._maskService.inputTransformFn(t.value);if(t.type!=="number")if(typeof n=="string"||typeof n=="number"){if(t.value=n.toString(),this._inputValue.set(t.value),this._setMask(),!this._maskValue()){this.onChange(t.value);return}let s=t.selectionStart===1?t.selectionStart+this._maskService.prefix.length:t.selectionStart;if(this.showMaskTyped()&&this.keepCharacterPositions()&&this._maskService.placeHolderCharacter.length===1){let h=this.suffix(),u=this.prefix(),m=t.value.slice(s-1,s),S=u.length,A=this._maskService._checkSymbolMask(m,this._maskService.maskExpression[s-1-S]??a.EMPTY_STRING),o=this._maskService._checkSymbolMask(m,this._maskService.maskExpression[s+1-S]??a.EMPTY_STRING),p=this._maskService.selStart===this._maskService.selEnd,I=Number(this._maskService.selStart)-S,w=Number(this._maskService.selEnd)-S,Z=this._code()===a.BACKSPACE||this._code()===a.DELETE;if(Z){if(!p)this._maskService.selStart===S?this._maskService.actualValue=`${u}${this._maskService.maskIsShown.slice(0,w)}${this._inputValue().split(u).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+S?this._maskService.actualValue=`${this._inputValue()}${this._maskService.maskIsShown.slice(I,w)}`:this._maskService.actualValue=`${u}${this._inputValue().split(u).join("").slice(0,I)}${this._maskService.maskIsShown.slice(I,w)}${this._maskService.actualValue.slice(w+S,this._maskService.maskIsShown.length+S)}${h}`;else if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(s-S,s+1-S))&&p)if(I===1&&u)this._maskService.actualValue=`${u}${this._maskService.placeHolderCharacter}${t.value.split(u).join("").split(h).join("")}${h}`,s=s-1;else{let Q=t.value.substring(0,s),J=t.value.substring(s);this._maskService.actualValue=`${Q}${this._maskService.placeHolderCharacter}${J}`}s=this._code()===a.DELETE?s+1:s}Z||(!A&&!o&&p?s=Number(t.selectionStart)-1:this._maskService.specialCharacters.includes(t.value.slice(s,s+1))&&o&&!this._maskService.specialCharacters.includes(t.value.slice(s+1,s+2))?(this._maskService.actualValue=`${t.value.slice(0,s-1)}${t.value.slice(s,s+1)}${m}${t.value.slice(s+2)}`,s=s+1):A?t.value.length===1&&s===1?this._maskService.actualValue=`${u}${m}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${h}`:this._maskService.actualValue=`${t.value.slice(0,s-1)}${m}${t.value.slice(s+1).split(h).join("")}${h}`:u&&t.value.length===1&&s-S===1&&this._maskService._checkSymbolMask(t.value,this._maskService.maskExpression[s-1-S]??a.EMPTY_STRING)&&(this._maskService.actualValue=`${u}${t.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${h}`))}let c=0,d=!1;if(this._code()===a.DELETE&&a.SEPARATOR&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue().length>=this._maskService.maskExpression.length-1&&this._code()!==a.BACKSPACE&&this._maskService.maskExpression===a.DAYS_MONTHS_YEARS&&s<10){let h=this._inputValue().slice(s-1,s);t.value=this._inputValue().slice(0,s-1)+h+this._inputValue().slice(s+1)}if(this._maskService.maskExpression===a.DAYS_MONTHS_YEARS&&this.leadZeroDateTime()&&(s<3&&Number(t.value)>31&&Number(t.value)<40||s===5&&Number(t.value.slice(3,5))>12)&&(s=s+2),this._maskService.maskExpression===a.HOURS_MINUTES_SECONDS&&this.apm()&&(this._justPasted()&&t.value.slice(0,2)===a.DOUBLE_ZERO&&(t.value=t.value.slice(1,2)+t.value.slice(2,t.value.length)),t.value=t.value===a.DOUBLE_ZERO?a.NUMBER_ZERO:t.value),this._maskService.applyValueChanges(s,this._justPasted(),this._code()===a.BACKSPACE||this._code()===a.DELETE,(h,u)=>{this._justPasted.set(!1),c=h,d=u}),this._getActiveElement()!==t)return;if(this._maskService.plusOnePosition&&(s=s+1,this._maskService.plusOnePosition=!1),this._maskExpressionArray().length)if(this._code()===a.BACKSPACE){let h=this.specialCharacters().includes(this._maskService.actualValue.slice(s-1,s)),u=this._maskService.removeMask(this._inputValue())?.length===this._maskService.removeMask(this._maskService.maskExpression)?.length,m=this.specialCharacters().includes(this._maskService.actualValue.slice(s,s+1));u&&!m?s=t.selectionStart+1:s=h?s-1:s}else s=t.selectionStart===1?t.selectionStart+this._maskService.prefix.length:t.selectionStart;this._position.set(this._position()===1&&this._inputValue().length===1?null:this._position());let l=this._position()?this._inputValue().length+s+c:s+(this._code()===a.BACKSPACE&&!d?0:c);l>this._getActualInputLength()&&(l=t.value===this._maskService.decimalMarker&&t.value.length===1?this._getActualInputLength()+1:this._getActualInputLength()),l<0&&(l=0),t.setSelectionRange(l,l),this._position.set(null)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof n);else{if(!this._maskValue()){this.onChange(t.value);return}this._maskService.applyValueChanges(t.value.length,this._justPasted(),this._code()===a.BACKSPACE||this._code()===a.DELETE)}}onCompositionStart(){this._isComposing.set(!0)}onCompositionEnd(e){this._isComposing.set(!1),this._justPasted.set(!0),this.onInput(e)}onBlur(e){if(this._maskValue()){let t=e.target;if(this._maskService.leadZero&&t.value.length>0&&typeof this._maskService.decimalMarker=="string"){let n=this._maskService.maskExpression,s=this._maskService.decimalMarker,c=this._maskService.suffix,d=Number(this._maskService.maskExpression.slice(n.length-1,n.length));if(d>0){t.value=c?t.value.split(c).join(""):t.value;let l=t.value.split(s)[1];t.value=t.value.includes(s)?t.value+a.NUMBER_ZERO.repeat(d-l.length)+c:t.value+s+a.NUMBER_ZERO.repeat(d)+c,this._maskService.actualValue=t.value}}this._maskService.clearIfNotMatchFn()}this._isFocused.set(!1),this.onTouch()}onClick(e){if(!this._maskValue())return;let t=e.target,n=0,s=0;t!==null&&t.selectionStart!==null&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&e.keyCode!==38&&this._maskService.showMaskTyped&&!this.keepCharacterPositions()&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(n,s)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));let c=t&&(t.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:t.value);if(t&&t.value!==c&&(t.value=c),t&&t.type!=="number"&&(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length){let d=this._maskService.maskExpression.match(new RegExp(`^[${this._maskService.specialCharacters.map(l=>`\\${l}`).join("")}]+`))?.[0].length||0;t.selectionStart=this._maskService.prefix.length+d;return}t&&t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){if(!this._maskValue())return;if(this._isComposing()){e.key==="Enter"&&this.onCompositionEnd(e);return}this._code.set(e.code?e.code:e.key);let t=e.target;if(this._inputValue.set(t.value),this._setMask(),t.type!=="number"){if(e.key===a.ARROW_UP&&e.preventDefault(),e.key===a.ARROW_LEFT||e.key===a.BACKSPACE||e.key===a.DELETE){if(e.key===a.BACKSPACE&&t.value.length===0&&(t.selectionStart=t.selectionEnd),e.key===a.BACKSPACE&&t.selectionStart!==0){let s=this.prefix().length,c=this.specialCharacters().length?this.specialCharacters():this._config.specialCharacters;if(s>1&&t.selectionStart<=s)t.setSelectionRange(s,t.selectionEnd);else if(this._inputValue().length!==t.selectionStart&&t.selectionStart!==1)for(;c.includes((this._inputValue()[t.selectionStart-1]??a.EMPTY_STRING).toString())&&(s>=1&&t.selectionStart>s||s===0);)t.setSelectionRange(t.selectionStart-1,t.selectionEnd)}this.checkSelectionOnDeletion(t),this._maskService.prefix.length&&t.selectionStart<=this._maskService.prefix.length&&t.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();let n=t.selectionStart;e.key===a.BACKSPACE&&!t.readOnly&&n===0&&t.selectionEnd===t.value.length&&t.value.length!==0&&(this._position.set(this._maskService.prefix?this._maskService.prefix.length:0),this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position()))}this.suffix()&&this.suffix().length>1&&this._inputValue().length-this.suffix().length<t.selectionStart?t.setSelectionRange(this._inputValue().length-this.suffix().length,this._inputValue().length):(e.code==="KeyA"&&e.ctrlKey||e.code==="KeyA"&&e.metaKey)&&(t.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=t.selectionStart,this._maskService.selEnd=t.selectionEnd}}writeValue(e){return ut(this,null,function*(){let t=e,n=this.inputTransformFn();if(typeof t=="object"&&t!==null&&"value"in t&&("disable"in t&&this.setDisabledState(!!t.disable),t=t.value),t!==null&&(t=n?n(t):t),typeof t=="string"||typeof t=="number"||t===null||typeof t>"u"){(t===null||typeof t>"u"||t==="")&&(this._maskService.currentValue="",this._maskService.previousValue="");let s=t;if(typeof s=="number"||this._maskValue().startsWith(a.SEPARATOR)){s=String(s);let c=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(s=this._maskService.decimalMarker!==c?s.replace(c,this._maskService.decimalMarker):s),this._maskService.leadZero&&s&&this.mask()&&this.dropSpecialCharacters()!==!1&&(s=this._maskService._checkPrecision(this._maskService.maskExpression,s)),(this._maskService.decimalMarker===a.COMMA||Array.isArray(this._maskService.decimalMarker)&&this._maskService.thousandSeparator===a.DOT)&&(s=s.toString().replace(a.DOT,a.COMMA)),this.mask()?.startsWith(a.SEPARATOR)&&this.leadZero()&&requestAnimationFrame(()=>{this._maskService.applyMask(s?.toString()??"",this._maskService.maskExpression)}),this._maskService.isNumberValue=!0}(typeof s!="string"||t===null||typeof t>"u")&&(s=""),this._inputValue.set(s),this._setMask(),s&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(typeof n!="function"&&(this._maskService.writingValue=!0),this._maskService.formElementProperty=["value",this._maskService.applyMask(s,this._maskService.maskExpression)],typeof n!="function"&&(this._maskService.writingValue=!1)):this._maskService.formElementProperty=["value",s],this._inputValue.set(s)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof t)})}registerOnChange(e){this._maskService.onChange=this.onChange=e}registerOnTouched(e){this.onTouch=e}_getActiveElement(e=this.document){let t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}checkSelectionOnDeletion(e){let t=this.prefix().length,n=this.suffix().length,s=this._inputValue().length;e.selectionStart=Math.min(Math.max(t,e.selectionStart),s-n),e.selectionEnd=Math.min(Math.max(t,e.selectionEnd),s-n)}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue()||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue(),this._maskService.maskExpression)]}_validateTime(e){let t=this._maskValue().split(a.EMPTY_STRING).filter(n=>n!==":").length;return e&&(+(e[e.length-1]??-1)==0&&e.length<t||e.length<=t-2)?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue(),actualValue:e}}}_setMask(){this._maskExpressionArray().some(e=>{if(e.split(a.EMPTY_STRING).some(n=>this._maskService.specialCharacters.includes(n))&&this._inputValue()&&this._areAllCharactersInEachStringSame(this._maskExpressionArray())||e.includes(a.CURLY_BRACKETS_LEFT)){let n=this._maskService.removeMask(this._inputValue())?.length<=this._maskService.removeMask(e)?.length;if(n){let s=e.includes(a.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(e):e;return this._maskValue.set(s),this._maskService.maskExpression=s,n}else{let s=this._maskExpressionArray()[this._maskExpressionArray().length-1]??a.EMPTY_STRING,c=s.includes(a.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(s):s;this._maskValue.set(c),this._maskService.maskExpression=c}}else{let n=this._maskService.removeMask(e),s=this._maskService.removeMask(this._inputValue())?.split(a.EMPTY_STRING).every((c,d)=>{let l=n.charAt(d);return this._maskService._checkSymbolMask(c,l)});if(s||this._justPasted())return this._maskValue.set(e),this._maskService.maskExpression=e,s}})}_areAllCharactersInEachStringSame(e){let t=this._maskService.specialCharacters;function n(c){let d=new RegExp(`[${t.map(l=>`\\${l}`).join("")}]`,"g");return c.replace(d,"")}return e.map(n).every(c=>new Set(c).size===1)}static \u0275fac=function(t){return new(t||r)};static \u0275dir=G({type:r,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,n){t&1&&x("paste",function(){return n.onPaste()})("focus",function(c){return n.onFocus(c)})("ngModelChange",function(c){return n.onModelChange(c)})("input",function(c){return n.onInput(c)})("compositionstart",function(c){return n.onCompositionStart(c)})("compositionend",function(c){return n.onCompositionEnd(c)})("blur",function(c){return n.onBlur(c)})("click",function(c){return n.onClick(c)})("keydown",function(c){return n.onKeyDown(c)})},inputs:{mask:[C.SignalBased,"mask"],specialCharacters:[C.SignalBased,"specialCharacters"],patterns:[C.SignalBased,"patterns"],prefix:[C.SignalBased,"prefix"],suffix:[C.SignalBased,"suffix"],thousandSeparator:[C.SignalBased,"thousandSeparator"],decimalMarker:[C.SignalBased,"decimalMarker"],dropSpecialCharacters:[C.SignalBased,"dropSpecialCharacters"],hiddenInput:[C.SignalBased,"hiddenInput"],showMaskTyped:[C.SignalBased,"showMaskTyped"],placeHolderCharacter:[C.SignalBased,"placeHolderCharacter"],shownMaskExpression:[C.SignalBased,"shownMaskExpression"],clearIfNotMatch:[C.SignalBased,"clearIfNotMatch"],validation:[C.SignalBased,"validation"],separatorLimit:[C.SignalBased,"separatorLimit"],allowNegativeNumbers:[C.SignalBased,"allowNegativeNumbers"],leadZeroDateTime:[C.SignalBased,"leadZeroDateTime"],leadZero:[C.SignalBased,"leadZero"],triggerOnMaskChange:[C.SignalBased,"triggerOnMaskChange"],apm:[C.SignalBased,"apm"],inputTransformFn:[C.SignalBased,"inputTransformFn"],outputTransformFn:[C.SignalBased,"outputTransformFn"],keepCharacterPositions:[C.SignalBased,"keepCharacterPositions"],instantPrefix:[C.SignalBased,"instantPrefix"]},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],standalone:!0,features:[z([{provide:Pe,useExisting:r,multi:!0},{provide:Ge,useExisting:r,multi:!0},He]),de]})}return r})(),hi=(()=>{class r{defaultOptions=D(Ce);_maskService=D(He);_maskExpressionArray=U([]);_mask=U("");transform(e,t,c={}){var d=c,{patterns:n}=d,s=ht(d,["patterns"]);let l=e,h=L(V(V({maskExpression:t},this.defaultOptions),s),{patterns:V(V({},this._maskService.patterns),n)});if(Object.entries(h).forEach(([u,m])=>{this._maskService[u]=m}),t.includes("||")){let u=t.split("||");return u.length>1?(this._maskExpressionArray.set(u.sort((m,S)=>m.length-S.length)),this._setMask(l),this._maskService.applyMask(`${l}`,this._mask())):(this._maskExpressionArray.set([]),this._maskService.applyMask(`${l}`,this._mask()))}if(t.includes(a.CURLY_BRACKETS_LEFT))return this._maskService.applyMask(`${l}`,this._maskService._repeatPatternSymbols(t));if(t.startsWith(a.SEPARATOR)){s.decimalMarker&&(this._maskService.decimalMarker=s.decimalMarker),s.thousandSeparator&&(this._maskService.thousandSeparator=s.thousandSeparator),s.leadZero&&(this._maskService.leadZero=s.leadZero),l=String(l);let u=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(l=this._maskService.decimalMarker!==u?l.replace(u,this._maskService.decimalMarker):l),this._maskService.leadZero&&l&&this._maskService.dropSpecialCharacters!==!1&&(l=this._maskService._checkPrecision(t,l)),this._maskService.decimalMarker===a.COMMA&&(l=l.replace(a.DOT,a.COMMA)),this._maskService.isNumberValue=!0}return l===null||typeof l>"u"?this._maskService.applyMask("",t):this._maskService.applyMask(`${l}`,t)}_setMask(e){this._maskExpressionArray().length>0&&this._maskExpressionArray().some(t=>{let n=this._maskService.removeMask(e)?.length<=this._maskService.removeMask(t)?.length;if(e&&n)return this._mask.set(t),n;{let s=this._maskExpressionArray()[this._maskExpressionArray.length-1]??a.EMPTY_STRING;this._mask.set(s)}})}static \u0275fac=function(t){return new(t||r)};static \u0275pipe=gt({name:"mask",type:r,pure:!0,standalone:!0})}return r})();var ui=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=se({type:r,bootstrap:[$e]})}static{this.\u0275inj=ne({imports:[qe,lt,ot,qe,lt,ot]})}}return r})();function or(r,i){r&1&&(g(0,"small"),k(1,"Obrigatorio o preenchimento do nome"),v())}function lr(r,i){r&1&&(g(0,"small"),k(1,"Can't be blank"),v())}function cr(r,i){r&1&&(g(0,"small"),k(1,"Can't be blank"),v())}function hr(r,i){r&1&&(g(0,"small"),k(1,"Can't be blank"),v())}function ur(r,i){r&1&&(g(0,"small"),k(1,"Can't be blank"),v())}function dr(r,i){if(r&1){let e=We();g(0,"form",16),x("ngSubmit",function(){W(e);let n=Y();return K(n.confirmar())}),g(1,"label",17),k(2,"Cardholder Name"),v(),g(3,"input",18),x("keypress",function(n){W(e);let s=Y();return K(s.onKeypressEventNomeCartao(n))}),v(),te(4,or,2,0,"small",19),g(5,"label",17),k(6,"Card Number"),v(),g(7,"input",20),x("keypress",function(n){W(e);let s=Y();return K(s.onKeypressEventNumeroCartao(n))}),v(),te(8,lr,2,0,"small",19),g(9,"div",21)(10,"div",22)(11,"label",17),k(12,"Exp.Date(MM/YY)"),v(),g(13,"input",23),x("keypress",function(n){W(e);let s=Y();return K(s.onKeypressEventMesVencimento(n))}),v(),te(14,cr,2,0,"small",19),v(),g(15,"div",24)(16,"input",25),x("keypress",function(n){W(e);let s=Y();return K(s.onKeypressEventAnoVencimento(n))}),v(),te(17,hr,2,0,"small",19),v(),g(18,"div",26)(19,"label",17),k(20,"CVC"),v(),g(21,"input",27),x("keypress",function(n){W(e);let s=Y();return K(s.onKeypressEventCVC(n))}),v(),te(22,ur,2,0,"small",19),v()(),g(23,"button",28),k(24,"Confirm"),v()()}if(r&2){let e=Y();j("formGroup",e.form),F(4),j("ngIf",e.validaPreenchimento("cardholderName")),F(4),j("ngIf",e.validaPreenchimento("cardNumber")),F(6),j("ngIf",e.validaPreenchimento("mm")),F(3),j("ngIf",e.validaPreenchimento("yy")),F(5),j("ngIf",e.validaPreenchimento("cvc"))}}function fr(r,i){if(r&1){let e=We();g(0,"div",29),je(),g(1,"svg",30),ae(2,"circle",31)(3,"path",32),g(4,"defs")(5,"linearGradient",33),ae(6,"stop",34)(7,"stop",35),v()()(),Ye(),g(8,"p",36),k(9,"Thank you!"),v(),g(10,"p",37),k(11,"We've added your card details"),v(),g(12,"button",38),x("click",function(){W(e);let n=Y();return K(n.continuar())}),k(13,"Continue"),v()()}}var $e=(()=>{class r{constructor(e){this.formBuilder=e,this.title="Angular",this.nomeCartao="Jane Appleseed",this.numeroCartao="0000 0000 0000 0000",this.cvc="000",this.mesVencimento="00",this.anoVencimento="00",this.submeteu=!1,this.form=this.criaForm()}confirmar(){this.validaControls()&&(this.submeteu=!0)}validaControls(){return!(this.form.controls.cardholderName.invalid||this.form.controls.cardNumber.invalid||this.form.controls.mm.invalid||this.form.controls.yy.invalid||this.form.controls.cvc.invalid)}validaPreenchimento(e){return!!(this.form.controls[e].invalid&&(this.form.controls[e].touched||this.form.controls[e].dirty))}onKeypressEventNumeroCartao(e){this.numeroCartao=e.target.value}onKeypressEventNomeCartao(e){this.nomeCartao=e.target.value}onKeypressEventMesVencimento(e){this.mesVencimento=e.target.value}onKeypressEventAnoVencimento(e){this.anoVencimento=e.target.value}onKeypressEventCVC(e){this.cvc=e.target.value}continuar(){this.submeteu=!this.submeteu}criaForm(){return this.formBuilder.group({cardholderName:this.formBuilder.control("",{validators:[P.required]}),cardNumber:this.formBuilder.control("",{validators:[P.required,P.minLength(16)]}),mm:this.formBuilder.control("",{validators:[P.required,P.minLength(2)]}),yy:this.formBuilder.control("",{validators:[P.required,P.minLength(2)]}),cvc:this.formBuilder.control("",{validators:[P.required,P.minLength(3)]})})}static{this.\u0275fac=function(t){return new(t||r)(b(si))}}static{this.\u0275cmp=mt({type:r,selectors:[["app-root"]],standalone:!0,features:[z([ct()]),Ct],decls:31,vars:19,consts:[[1,"container"],["src","assets\\images\\bg-card-front.png","alt","","id","front-card"],["src","assets\\images\\bg-card-back.png","alt","","id","back-card"],["id","card-logo","width","84","height","47","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","23.478","cy","23.5","rx","23.478","ry","23.5","fill","#fff"],["d","M83.5 23.5c0 5.565-4.507 10.075-10.065 10.075-5.559 0-10.065-4.51-10.065-10.075 0-5.565 4.506-10.075 10.065-10.075 5.558 0 10.065 4.51 10.065 10.075Z","stroke","#fff"],["id","number-card"],[1,"box-card-nome-data"],["id","card-date"],["id","codigo-card"],[1,"box-left"],[1,"box-right"],["class","box-form",3,"formGroup","ngSubmit",4,"ngIf"],["class","box-tks",4,"ngIf"],["href","https://www.frontendmentor.io?ref=challenge","target","-blank"],["href","https://github.com/GlaucoTolotto"],[1,"box-form",3,"ngSubmit","formGroup"],["for",""],["formControlName","cardholderName","placeholder","e.g. Jane Appleseed","type","text",3,"keypress"],[4,"ngIf"],["formControlName","cardNumber","placeholder","e.g. 1234 5678 9123 0000","type","text","mask","0000 0000 0000 0000",3,"keypress"],[1,"box-data-codigo"],["id","box-Exp-date",1,"formata-texto-data-codigo"],["formControlName","mm","placeholder","MM","type","text","mask","00",3,"keypress"],["id","box-MM-YY",1,"formata-texto-data-codigo"],["formControlName","yy","placeholder","YY","type","text","mask","00",3,"keypress"],["id","box-CVC",1,"formata-texto-data-codigo"],["formControlName","cvc","mask","000","placeholder","e.g. 123","type","text",3,"keypress"],["id","button-confirm","type","submit"],[1,"box-tks"],["width","80","height","80","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","40","cy","40","r","40","fill","url(#a)"],["d","M28 39.92 36.08 48l16-16","stroke","#fff","stroke-width","3"],["id","a","x1","-23.014","y1","11.507","x2","0","y2","91.507","gradientUnits","userSpaceOnUse"],["stop-color","#6348FE"],["offset","1","stop-color","#610595"],["id","tks"],["id","state"],["id","button-continue",3,"click"]],template:function(t,n){t&1&&(g(0,"div",0),ae(1,"img",1)(2,"img",2),je(),g(3,"svg",3),ae(4,"ellipse",4)(5,"path",5),v(),Ye(),g(6,"p",6),k(7),me(8,"mask"),v(),g(9,"div",7)(10,"p"),k(11),v(),g(12,"p",8),k(13),me(14,"mask"),me(15,"mask"),v()(),g(16,"p",9),k(17),me(18,"mask"),v(),ae(19,"div",10),g(20,"div",11),te(21,dr,25,6,"form",12)(22,fr,14,0,"div",13),v()(),g(23,"footer"),k(24," Challenge by "),g(25,"a",14),k(26,"Frontend Mentor"),v(),k(27,". Coded by "),g(28,"a",15),k(29,"Glauco Tolotto"),v(),k(30,`.
`),v()),t&2&&(F(7),Ae(ge(8,7,n.numeroCartao,"0000 0000 0000 0000")),F(4),Ae(n.nomeCartao),F(2),St(" ",ge(14,10,n.mesVencimento,"00"),"/",ge(15,13,n.anoVencimento,"00")," "),F(4),Ae(ge(18,16,n.cvc,"000")),F(4),j("ngIf",!n.submeteu),F(),j("ngIf",n.submeteu))},dependencies:[ui,kt,ii,Re,Qt,Jt,st,at,ci,hi],styles:['@font-face{font-family:Space Grotesk;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v16/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v16/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v16/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}#front-card[_ngcontent-%COMP%]{position:absolute;top:11em;left:15em;font-family:Space Grotesk,serif;text-transform:uppercase;font-size:15px;color:#fff;font-weight:500;margin:1em 0 .3em}#back-card[_ngcontent-%COMP%]{position:absolute;top:28em;left:23em}#card-logo[_ngcontent-%COMP%]{position:absolute;top:13em;left:16em}#number-card[_ngcontent-%COMP%]{position:absolute;top:7.5em;left:6.4em;font-family:Space Grotesk,serif;text-transform:uppercase;font-size:37px;color:#fff;font-weight:500;margin:1em 0 .3em}.box-card-nome-data[_ngcontent-%COMP%]{display:flex;justify-content:row;position:absolute;width:100em;top:24em;left:16em;font-family:Space Grotesk,serif;text-transform:uppercase;font-size:15px;color:#fff;font-weight:500;margin:1em 0 .3em}#card-date[_ngcontent-%COMP%]{margin-left:16.5em}#codigo-card[_ngcontent-%COMP%]{position:absolute;top:36.2em;left:49em;font-family:Space Grotesk,serif;text-transform:uppercase;font-size:15px;color:#fff;font-weight:500;margin:1em 0 .3em}.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;height:100%}.box-left[_ngcontent-%COMP%]{background-image:url("./media/bg-main-desktop-MS5G5D5S.png");background-repeat:no-repeat;background-size:cover;width:30%;height:100%}.box-right[_ngcontent-%COMP%]{background-color:#fff;display:flex;justify-content:center;align-items:center;width:70%}*[_ngcontent-%COMP%]{padding:0;margin:0}.attribution[_ngcontent-%COMP%]{font-size:11px;text-align:center}.attribution[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3e52a3}.box-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:40%}label[_ngcontent-%COMP%]{font-family:Space Grotesk,serif;text-transform:uppercase;font-size:15px;color:#21092f;font-weight:500;margin:1em 0 .3em}input[_ngcontent-%COMP%]{font-family:Space Grotesk,serif;border-radius:.5em;padding:.5em;border:.4px solid hsl(270,3%,87%);color:#dedddf;font-weight:500;font-size:15px;-webkit-transition:.5s;transition:.5s;outline:none}small[_ngcontent-%COMP%]{font-family:Space Grotesk,serif;font-weight:500;font-size:15px;color:#ff5252;box-sizing:content-box}input[_ngcontent-%COMP%]:focus{border:.4px solid hsl(278,68%,11%)}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}[_ngcontent-%COMP%]::placeholder{font-family:Space Grotesk,serif;color:#dedddf;font-weight:500;font-size:15px}.box-data-codigo[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.formata-texto-data-codigo[_ngcontent-%COMP%]{display:flex;flex-direction:column}#box-Exp-date[_ngcontent-%COMP%]{width:20%;margin-right:.7em}#box-MM-YY[_ngcontent-%COMP%]{width:20%;margin-right:1.5em;margin-top:2.5em}#box-CVC[_ngcontent-%COMP%]{width:60%}#button-confirm[_ngcontent-%COMP%]{font-family:Space Grotesk,serif;margin-top:1.8em;padding:.8em;color:#dedddf;background-color:#21092f;border-radius:.5em;border:none;font-size:18px;cursor:pointer}#button-continue[_ngcontent-%COMP%]{font-family:Space Grotesk,serif;margin-top:1.8em;padding:.8em;color:#dedddf;background-color:#21092f;border-radius:.5em;border:none;font-size:18px;cursor:pointer;width:50%}.box-tks[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:70%;font-family:Space Grotesk,serif;font-weight:500}.box-tks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1em}.box-tks[_ngcontent-%COMP%]   #tks[_ngcontent-%COMP%]{font-size:18px;color:#21092f;text-transform:uppercase}.box-tks[_ngcontent-%COMP%]   #state[_ngcontent-%COMP%]{font-family:Space Grotesk,serif;font-size:18px;color:#dedddf;font-weight:500}footer[_ngcontent-%COMP%]{position:absolute;bottom:1em;left:1em;font-family:Space Grotesk,serif;font-size:18px;color:#dedddf;font-weight:500}']})}}return r})();var di=[];var pr={validation:!1},fi={providers:[At(di),Vt(),li(pr)]};var mr={providers:[bt()]},pi=Mt(fi,mr);var gr=()=>Et($e,pi),_n=gr;export{_n as a};
